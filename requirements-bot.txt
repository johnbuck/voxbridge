# Discord Bot Python Dependencies
# Core Discord bot with voice support
discord.py[voice]>=2.3.0
discord-ext-voice-recv==0.5.2a179

# API Server
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
pydantic>=2.0.0

# WebSocket client for WhisperX
websockets>=12.0

# HTTP client for Chatterbox TTS and n8n with retry support
httpx>=0.25.0
tenacity>=8.2.0  # Retry logic for HTTP requests

# Voice crypto and audio processing
PyNaCl>=1.5.0
av>=10.0.0  # PyAV for WebM/Opus container parsing
numpy>=1.24.0  # Required by PyAV for audio frame decoding

# Environment variables
python-dotenv>=1.0.0

# Async utilities
aiofiles>=23.0.0

# Database (VoxBridge 2.0)
sqlalchemy>=2.0.0
alembic>=1.12.0
asyncpg>=0.29.0  # PostgreSQL async driver
greenlet>=3.0.0  # Required for SQLAlchemy async
psycopg[binary,pool]>=3.1.0  # Required by Mem0 for pgvector support (binary includes C extensions)

# Plugin System (VoxBridge 2.0 Phase 6)
cryptography>=41.0.0  # Fernet encryption for sensitive plugin fields
psutil>=5.9.0  # Resource monitoring for plugins

# Memory System (VoxBridge 2.0 Phase 2)
mem0ai>=0.1.0  # Conversational memory with Mem0 framework
sentence-transformers>=2.2.0  # Local embeddings (optional, for EMBEDDING_PROVIDER=local)
azure-identity>=1.15.0  # Azure auth (optional, for EMBEDDING_PROVIDER=azure)
openai[azure]>=1.90.0  # Azure OpenAI SDK (optional, for EMBEDDING_PROVIDER=azure)
ollama>=0.1.0  # Ollama LLM provider for Mem0 (local-only operation)

# User Authentication (User Auth & RBAC)
passlib>=1.7.4  # Password hashing
bcrypt>=4.0.0,<5.0.0  # bcrypt backend for passlib (compatible version)
python-jose[cryptography]>=3.3.0  # JWT token creation and validation
python-multipart>=0.0.6  # Form data parsing for login endpoints
email-validator>=2.0.0  # Email validation for Pydantic EmailStr

# RAG Service Client (Phase 3.1 - heavy deps moved to voxbridge-rag container)
# See rag/ directory for RAG-specific dependencies (graphiti, unstructured, etc.)
